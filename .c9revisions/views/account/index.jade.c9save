{"ts":1360738198697,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"extends ../../layouts/account\n\nblock head\n  title Account Area\n\nblock feet\n  script(src='/views/account/index.js')\n\nblock body\n  div#card.card.controls\n    div.frontView \n      div.page-header\n        p connected users: \n          span.count 0\n        div.app\n          div#infobox.infobox\n          \n        h1 My Account\n        .row\n          .span6\n            if (isActive == 'no')\n              #accountdata\n            else\n              #identity.form-horizontal\n              #3rdparty-table\n              #password.form-horizontal\n    div.backView\n      div#map share your geolocation, dude. \n\n      script(type='text/javascript')\n        document.querySelector('.controls').addEventListener('click', function(){\n          var elem = document.querySelector('.card');\n          elem.className = (elem.className == 'card')?'card flipped':'card';\n        });\n\n      script(type='text/template', id='tmpl-accountdata')\n        form.form-horizontal\n          div.alerts\n            |<% _.each(errors, function(err) { %>\n            div.alert.alert-error\n              |<%= err %>\n            |<% }); %>\n            |<% if (dataUpdated) { %>\n            div.alert.alert-info\n              | Your account data was successfully updated.\n            |<% } %>\n            |<% if (isActive == 'no') { %>\n            div.alert.alert-info\n              | Please complete your setup by providing a username, email and password.\n            |<% } %>\n          div.control-group(class!='<%= errfor.username ? \"error\" : \"\" %>')\n            label.control-label Username:\n            div.controls\n              input(type='text', name='username', value!='<%= username %>')\n              span.help-inline <%= errfor.username %>\n          div.control-group(class!='<%= errfor.email ? \"error\" : \"\" %>')\n            label.control-label Email:\n            div.controls\n              input(type='text', name='email', value!='<%= email %>')\n              span.help-inline <%= errfor.email %>\n          div.control-group(class!='<%= errfor.password ? \"error\" : \"\" %>')\n            label.control-label Password:\n            div.controls\n              input(type='password', name='password', value!='<%= password %>')\n              span.help-inline <%= errfor.password %>\n          div.control-group(class!='<%= errfor.confirm ? \"error\" : \"\" %>')\n            label.control-label Re-enter Password:\n            div.controls\n              input(type='password', name='confirm', value!='<%= confirm %>')\n              span.help-inline <%= errfor.confirm %>\n          div.accordion#accordion2\n            if (github)\n              div.control-group\n                label.control-label <i class=\"icon-github icon-large\"></i> Github:\n                div.controls\n                  input(type='text', name='ghID', disabled, value!='User-ID: <%= github.login %>')\n              div.accordion-group\n                div.accordion-heading\n                  a.accordion-toggle(href=\"#collapseOne\", data-parent=\"#accordion2\", data-toggle=\"collapse\") Show profile\n                div.accordion-body.collapse#collapseOne\n                  div.accordion-inner\n                    p \n                      | Github-Profile: \n                      <br />\n                      | <%= github.data %>\n            if (twitter)\n              div.control-group\n                label.control-label <i class=\"icon-twitter icon-large\"></i> Twitter: \n                div.controls\n                  input(type='text', name='twID', disabled, value!='User-ID: <%= twitter.screen_name %>')\n              div.accordion-group\n                div.accordion-heading\n                  a.accordion-toggle(href=\"#collapseTwo\", data-parent=\"#accordion2\", data-toggle=\"collapse\") Show profile\n                div.accordion-body.collapse#collapseTwo\n                  div.accordion-inner\n                    p \n                      | Twitter-Profile:\n                      <br />\n                      | <%= twitter.data %>\n          div.form-actions\n            button.btn.btn-primary.btn-accountdata(type='button') Update My Account\n\n      script(type='text/template', id='data-record') !{data.record}\n  \n  script(type='text/template', id='tmpl-3rdparty-table')\n    legend 3rd party authentication\n    table.table.table-striped\n      thead\n        tr\n          th Service \n          th \n          th User-ID\n          th \n      tbody#3rdparty-rows\n  \n  script(type='text/template', id='tmpl-3rdparty-row')\n    td.span1\n      input.btn.btn-warning.btn-remove.custom(type='button', value='Remove link')\n    td.span2 <i class=\"icon-github icon-large\"></i> <%= provider %>\n    td.span2 <%= username %>\n    td.span2#prof-link <a href=\"#3rdparty-table\">Show Profile</a>\n\n\n  script(type='text/template', id='tmpl-identity')\n    legend Identity\n    div.alerts\n      |<% _.each(errors, function(err) { %>\n      div.alert.alert-error\n        |<%= err %>\n      |<% }); %>\n      |<% if (success) { %>\n      div.alert.alert-info\n        | Changes have been saved.\n      |<% } %>\n    div.control-group(class!='<%= errfor.isActive ? \"error\" : \"\" %>')\n      label.control-label Is Active:\n      div.controls\n        select(name='isActive')\n          option(value='yes') yes\n          option(value='no') no\n        span.help-inline <%= errfor.isActive %>\n    div.control-group(class!='<%= errfor.username ? \"error\" : \"\" %>')\n      label.control-label Username:\n      div.controls\n        input(type='text', name='username', value!='<%= username %>')\n        span.help-inline <%= errfor.username %>\n    div.control-group(class!='<%= errfor.email ? \"error\" : \"\" %>')\n      label.control-label Email:\n      div.controls\n        input(type='text', name='email', value!='<%= email %>')\n        span.help-inline <%= errfor.email %>\n    div.form-actions\n      button.btn.btn-primary.btn-update(type='button') Update\n\n  script(type='text/template', id='tmpl-password')\n    legend Set Password\n    div.alerts\n      |<% _.each(errors, function(err) { %>\n      div.alert.alert-error\n        |<%= err %>\n      |<% }); %>\n    |<% if (success) { %>\n    div.alert.alert-info\n      | A new password has been set.\n    |<% } %>\n    div.control-group(class!='<%= errfor.newPassword ? \"error\" : \"\" %>')\n      label.control-label New Password:\n      div.controls\n        input(type='password', name='newPassword', value!='<%= newPassword %>')\n        span.help-inline <%= errfor.newPassword %>\n    div.control-group(class!='<%= errfor.confirm ? \"error\" : \"\" %>')\n      label.control-label Confirm Password:\n      div.controls\n        input(type='password', name='confirm', value!='<%= confirm %>')\n        span.help-inline <%= errfor.confirm %>\n    div.form-actions\n      button.btn.btn-primary.btn-password(type='button') Set Password"]],"start1":0,"start2":0,"length1":0,"length2":6739}]],"length":6739}
{"contributors":[],"silentsave":false,"ts":1360740681441,"patch":[[{"diffs":[[0,"       }"],[1,", true"],[0,");\n\n    "]],"start1":855,"start2":855,"length1":16,"length2":22}]],"length":6745,"saved":false}
{"ts":1360740779684,"patch":[[{"diffs":[[0," }, "],[-1,"tru"],[1,"fals"],[0,"e);\n"]],"start1":861,"start2":861,"length1":11,"length2":12}]],"length":6746,"saved":false}
{"ts":1360741290597,"patch":[[{"diffs":[[0,"ector('."],[1,"x"],[0,"controls"]],"start1":666,"start2":666,"length1":16,"length2":17}]],"length":6747,"saved":false}
{"ts":1360741355452,"patch":[[{"diffs":[[0,"ector('."],[-1,"x"],[0,"controls"]],"start1":666,"start2":666,"length1":17,"length2":16}]],"length":6746,"saved":false}
{"ts":1360741360261,"patch":[[{"diffs":[[0,"rd.card."],[1,"x"],[0,"controls"]],"start1":135,"start2":135,"length1":16,"length2":17}]],"length":6747,"saved":false}
